# 測試執行表 - 上線前 QC

## 📝 使用說明

本文件是簡化版的測試執行表，供測試人員實際執行測試時使用。

**測試標記**：

- ✅ 通過
- ❌ 失敗
- ⚠️ 有問題但不影響核心功能
- ⏭️ 跳過（說明原因）

**優先級**：

- 🔴 P0 必須通過
- 🟠 P1 建議通過
- 🟡 P2 選擇性通過

---

## 第一階段：核心功能測試（Day 1-2）

### 🔴 客戶端預約流程 [P0]

| #   | 測試項目     | 測試步驟                 | 預期結果         | 測試結果 | 測試者 | 備註 |
| --- | ------------ | ------------------------ | ---------------- | -------- | ------ | ---- |
| 1.1 | LIFF 登入    | 開啟 LIFF URL            | 8 秒內完成初始化 | [ ]      |        |      |
| 1.2 | 選擇服務     | 選擇服務項目、日期、時間 | 可用時段正確顯示 | [ ]      |        |      |
| 1.3 | 填寫寵物資訊 | 填寫必填欄位             | 驗證通過         | [ ]      |        |      |
| 1.4 | 上傳寵物照片 | 拍照或選擇照片           | 照片預覽正確     | [ ]      |        |      |
| 1.5 | 提交預約     | 點擊確認預約             | 3 秒內提交成功   | [ ]      |        |      |
| 1.6 | LINE 通知    | 檢查 LINE 訊息           | 收到預約確認訊息 | [ ]      |        |      |
| 1.7 | 時間衝突     | 兩人預約同一時段         | 只有一人成功     | [ ]      |        |      |

---

### 🔴 管理端預約管理 [P0]

| #   | 測試項目   | 測試步驟        | 預期結果               | 測試結果 | 測試者 | 備註 |
| --- | ---------- | --------------- | ---------------------- | -------- | ------ | ---- |
| 2.1 | 管理員登入 | 輸入 Email/密碼 | 登入成功               | [ ]      |        |      |
| 2.2 | 訂閱檢查   | 過期帳號登入    | 無法登入並顯示提示     | [ ]      |        |      |
| 2.3 | 預約列表   | 查看預約列表    | 顯示所有預約           | [ ]      |        |      |
| 2.4 | 即時通知   | 客戶建立預約    | 2 秒內顯示通知         | [ ]      |        |      |
| 2.5 | 確認預約   | 點擊確認按鈕    | 狀態變更，客戶收到通知 | [ ]      |        |      |
| 2.6 | 完成預約   | 點擊完成按鈕    | 狀態變更為已完成       | [ ]      |        |      |
| 2.7 | 取消預約   | 點擊取消按鈕    | 狀態變更，客戶收到通知 | [ ]      |        |      |

---

### 🔴 服務紀錄功能 [P0]

| #   | 測試項目     | 測試步驟          | 預期結果           | 測試結果 | 測試者 | 備註 |
| --- | ------------ | ----------------- | ------------------ | -------- | ------ | ---- |
| 3.1 | 發送臨時回報 | 上傳照片+輸入訊息 | 客戶收到 LINE 訊息 | [ ]      |        |      |
| 3.2 | 發送完成分享 | 上傳照片+輸入訊息 | 客戶收到 LINE 訊息 | [ ]      |        |      |
| 3.3 | 圖片上傳     | 上傳 3MB 照片     | 壓縮後 < 1MB       | [ ]      |        |      |
| 3.4 | 發送歷史     | 查看已發送紀錄    | 正確顯示發送時間   | [ ]      |        |      |

---

### 🔴 商家設定功能 [P0]

| #   | 測試項目          | 測試步驟           | 預期結果          | 測試結果 | 測試者 | 備註 |
| --- | ----------------- | ------------------ | ----------------- | -------- | ------ | ---- |
| 4.1 | 新增服務項目      | 輸入名稱/價格/時長 | 儲存成功          | [ ]      |        |      |
| 4.2 | 設定營業時間      | 選擇時間與營業日   | 預約時段正確顯示  | [ ]      |        |      |
| 4.3 | 上傳 Logo         | 上傳商家 Logo      | 客戶端正確顯示    | [ ]      |        |      |
| 4.4 | 設定 LIFF ID      | 輸入 LIFF ID       | LIFF URL 生成正確 | [ ]      |        |      |
| 4.5 | 設定 Access Token | 輸入 Token         | LINE 訊息正常發送 | [ ]      |        |      |
| 4.6 | 查看配額          | 刷新配額           | 顯示正確數字      | [ ]      |        |      |

---

### 🔴 超級管理員功能 [P0]

| #   | 測試項目   | 測試步驟       | 預期結果         | 測試結果 | 測試者 | 備註 |
| --- | ---------- | -------------- | ---------------- | -------- | ------ | ---- |
| 5.1 | 建立新商家 | 輸入商家資訊   | 建立成功，可登入 | [ ]      |        |      |
| 5.2 | 設定試用期 | 選擇試用期方案 | 3 個月後到期     | [ ]      |        |      |
| 5.3 | 續訂商家   | 點擊續訂按鈕   | 到期日延長       | [ ]      |        |      |
| 5.4 | 停用商家   | 設定為停用     | 商家無法登入     | [ ]      |        |      |
| 5.5 | 刪除商家   | 確認並刪除     | 商家完全移除     | [ ]      |        |      |

---

## 第二階段：多租戶與安全測試（Day 3）

### 🔴 多租戶資料隔離 [P0]

| #   | 測試項目  | 測試步驟            | 預期結果               | 測試結果 | 測試者 | 備註 |
| --- | --------- | ------------------- | ---------------------- | -------- | ------ | ---- |
| 6.1 | 資料隔離  | 商家 A 查看預約列表 | 只看到自己的預約       | [ ]      |        |      |
| 6.2 | LINE 隔離 | 商家 A 客戶預約     | 訊息發到商家 A 的 LINE | [ ]      |        |      |
| 6.3 | URL 識別  | 使用不同 LIFF ID    | 預約建立在正確商家     | [ ]      |        |      |

---

### 🔴 安全性測試 [P0]

| #   | 測試項目       | 測試步驟               | 預期結果     | 測試結果 | 測試者 | 備註 |
| --- | -------------- | ---------------------- | ------------ | -------- | ------ | ---- |
| 7.1 | 未登入訪問     | 直接訪問 Dashboard URL | 跳轉到登入頁 | [ ]      |        |      |
| 7.2 | Token 過期     | 等待 Token 過期        | 自動登出     | [ ]      |        |      |
| 7.3 | 一般管理員權限 | 訪問 SuperAdmin 頁面   | 403 權限錯誤 | [ ]      |        |      |
| 7.4 | 輸入驗證       | 輸入無效手機號碼       | 顯示錯誤提示 | [ ]      |        |      |
| 7.5 | 圖片類型驗證   | 上傳 PDF 檔案          | 拒絕上傳     | [ ]      |        |      |

---

## 第三階段：相容性測試（Day 4）

### 🔴 LINE App 測試 [P0]

| #   | 裝置             | LINE 版本 | 測試項目     | 測試結果 | 測試者 | 備註 |
| --- | ---------------- | --------- | ------------ | -------- | ------ | ---- |
| 8.1 | iPhone 12 iOS 17 | 最新版    | 完整預約流程 | [ ]      |        |      |
| 8.2 | iPhone SE iOS 16 | 最新版    | 完整預約流程 | [ ]      |        |      |
| 8.3 | Samsung Galaxy   | 最新版    | 完整預約流程 | [ ]      |        |      |
| 8.4 | 其他 Android     | 最新版    | 完整預約流程 | [ ]      |        |      |

---

### 🟠 管理端瀏覽器測試 [P1]

| #   | 瀏覽器  | 版本   | 測試項目       | 測試結果 | 測試者 | 備註 |
| --- | ------- | ------ | -------------- | -------- | ------ | ---- |
| 9.1 | Chrome  | 最新版 | 管理端所有功能 | [ ]      |        |      |
| 9.2 | Safari  | 最新版 | 管理端所有功能 | [ ]      |        |      |
| 9.3 | Firefox | 最新版 | 管理端所有功能 | [ ]      |        |      |
| 9.4 | Edge    | 最新版 | 管理端所有功能 | [ ]      |        |      |

---

### 🟠 網路環境測試 [P1]

| #    | 網路類型   | 測試項目       | 預期結果     | 測試結果 | 測試者 | 備註 |
| ---- | ---------- | -------------- | ------------ | -------- | ------ | ---- |
| 10.1 | WiFi       | 完整預約流程   | < 2 秒載入   | [ ]      |        |      |
| 10.2 | 4G         | 完整預約流程   | < 3 秒載入   | [ ]      |        |      |
| 10.3 | 3G         | 完整預約流程   | < 5 秒載入   | [ ]      |        |      |
| 10.4 | 斷網後恢復 | 提交預約時斷網 | 顯示錯誤提示 | [ ]      |        |      |

---

## 第四階段：效能與壓力測試（Day 5）

### 🟠 效能測試 [P1]

| #    | 測試項目          | 目標值 | 實際值 | 測試結果 | 測試者 | 備註 |
| ---- | ----------------- | ------ | ------ | -------- | ------ | ---- |
| 11.1 | LIFF 初始化時間   | < 8s   |        | [ ]      |        |      |
| 11.2 | 首次載入時間 (3G) | < 5s   |        | [ ]      |        |      |
| 11.3 | 預約提交時間      | < 3s   |        | [ ]      |        |      |
| 11.4 | 圖片上傳時間      | < 10s  |        | [ ]      |        |      |
| 11.5 | 即時通知延遲      | < 2s   |        | [ ]      |        |      |

---

### 🟠 Lighthouse 測試 [P1]

| #    | 頁面             | Performance | Accessibility | Best Practices | 測試結果 | 測試者 |
| ---- | ---------------- | ----------- | ------------- | -------------- | -------- | ------ |
| 12.1 | 客戶端首頁       | > 85        | > 90          | > 90           | [ ]      |        |
| 12.2 | 預約頁面         | > 85        | > 90          | > 90           | [ ]      |        |
| 12.3 | 管理端 Dashboard | > 80        | > 90          | > 90           | [ ]      |        |

---

### 🟡 並發測試 [P2]

| #    | 測試項目         | 測試步驟      | 預期結果      | 測試結果 | 測試者 | 備註 |
| ---- | ---------------- | ------------- | ------------- | -------- | ------ | ---- |
| 13.1 | 同時預約不同時段 | 10 人同時預約 | 全部成功      | [ ]      |        |      |
| 13.2 | 同時預約同一時段 | 5 人同時預約  | 只有 1 人成功 | [ ]      |        |      |
| 13.3 | 多管理員操作     | 3 人同時操作  | 即時更新正確  | [ ]      |        |      |

---

## 第五階段：用戶驗收測試（Day 6-7）

### 🔴 商家端 UAT [P0]

| #    | 測試用戶 | 測試場景       | 完成度 | 滿意度 (1-5) | 問題記錄 |
| ---- | -------- | -------------- | ------ | ------------ | -------- |
| 14.1 | 商家 A   | 設定商家資訊   | [ ]    |              |          |
| 14.2 | 商家 A   | 接收並處理預約 | [ ]    |              |          |
| 14.3 | 商家 A   | 發送服務紀錄   | [ ]    |              |          |
| 14.4 | 商家 B   | 完整流程測試   | [ ]    |              |          |

---

### 🔴 客戶端 UAT [P0]

| #    | 測試用戶 | 測試場景       | 完成度 | 滿意度 (1-5) | 問題記錄 |
| ---- | -------- | -------------- | ------ | ------------ | -------- |
| 15.1 | 客戶 1   | 首次預約流程   | [ ]    |              |          |
| 15.2 | 客戶 2   | 首次預約流程   | [ ]    |              |          |
| 15.3 | 客戶 3   | 首次預約流程   | [ ]    |              |          |
| 15.4 | 客戶 4   | 查看服務歷史   | [ ]    |              |          |
| 15.5 | 客戶 5   | 接收 LINE 通知 | [ ]    |              |          |

---

## 第六階段：上線前最終檢查（Day 8）

### 🔴 環境檢查 [P0]

| #    | 檢查項目                 | 完成 | 檢查者 | 備註 |
| ---- | ------------------------ | ---- | ------ | ---- |
| 16.1 | 環境變數正確             | [ ]  |        |      |
| 16.2 | Firebase Rules 已部署    | [ ]  |        |      |
| 16.3 | Cloud Functions 已部署   | [ ]  |        |      |
| 16.4 | Firestore Indexes 已建立 | [ ]  |        |      |
| 16.5 | LINE LIFF 設定正確       | [ ]  |        |      |
| 16.6 | LINE Token 是長期 Token  | [ ]  |        |      |

---

### 🔴 監控設定 [P0]

| #    | 檢查項目                    | 完成 | 負責人 | 備註 |
| ---- | --------------------------- | ---- | ------ | ---- |
| 17.1 | Performance Monitoring 啟用 | [ ]  |        |      |
| 17.2 | Analytics 啟用              | [ ]  |        |      |
| 17.3 | Uptime 監控設定             | [ ]  |        |      |
| 17.4 | 錯誤告警設定                | [ ]  |        |      |
| 17.5 | 備份計劃確認                | [ ]  |        |      |

---

### 🟠 文件準備 [P1]

| #    | 文件項目     | 完成 | 負責人 | 備註 |
| ---- | ------------ | ---- | ------ | ---- |
| 18.1 | 用戶使用手冊 | [ ]  |        |      |
| 18.2 | 管理員手冊   | [ ]  |        |      |
| 18.3 | FAQ 文件     | [ ]  |        |      |
| 18.4 | 教學影片     | [ ]  |        |      |
| 18.5 | 客服腳本     | [ ]  |        |      |

---

## 測試結果統計

### 整體通過率

| 優先級 | 總數 | 通過 | 失敗 | 通過率 | 上線標準 |
| ------ | ---- | ---- | ---- | ------ | -------- |
| P0     |      |      |      | %      | 100%     |
| P1     |      |      |      | %      | 90%      |
| P2     |      |      |      | %      | 80%      |

### 問題統計

| 嚴重度   | 數量 | 已修復 | 待修復 |
| -------- | ---- | ------ | ------ |
| Critical |      |        |        |
| High     |      |        |        |
| Medium   |      |        |        |
| Low      |      |        |        |

---

## 上線決策

### ✅ 上線條件確認

- [ ] 所有 P0 測試 100% 通過
- [ ] P1 測試 90% 以上通過
- [ ] 無 Critical 或 Blocker 級別 Bug
- [ ] UAT 滿意度平均 > 4.0
- [ ] 文件準備完成
- [ ] 監控系統正常運作

### 📝 簽核

| 角色       | 姓名 | 簽核 | 日期 |
| ---------- | ---- | ---- | ---- |
| 測試負責人 |      | [ ]  |      |
| 技術負責人 |      | [ ]  |      |
| 產品負責人 |      | [ ]  |      |

### 🚀 上線資訊

- **上線日期**：\***\*\_\_\*\***
- **上線時間**：\***\*\_\_\*\***
- **負責人**：\***\*\_\_\*\***
- **緊急聯絡電話**：\***\*\_\_\*\***

---

## 附錄：快速參考

### 測試環境資訊

```
Staging URL: _____________________
測試商家 A:
- Email: _____________________
- Password: _____________________
- LIFF URL: _____________________

測試商家 B:
- Email: _____________________
- Password: _____________________
- LIFF URL: _____________________

SuperAdmin:
- Email: _____________________
- Password: _____________________
```

### 測試工具

- **效能測試**：Chrome DevTools Lighthouse
- **網路模擬**：Chrome DevTools Network Throttling
- **裝置測試**：實體裝置 + BrowserStack (可選)
- **監控工具**：Firebase Console

### 常見問題排查

| 問題            | 可能原因           | 解決方案                  |
| --------------- | ------------------ | ------------------------- |
| LIFF 初始化失敗 | LIFF ID 錯誤       | 檢查 .env 設定            |
| LINE 訊息未收到 | Token 錯誤         | 檢查 Channel Access Token |
| 預約時段衝突    | Transaction 失敗   | 檢查 Firestore Rules      |
| 圖片上傳失敗    | Storage Rules 錯誤 | 檢查 Storage 權限         |

---

**測試期間**：\_**\_ 年 \_\_** 月 \_**\_ 日 至 \_\_** 年 \_**\_ 月 \_\_** 日  
**測試負責人**：\***\*\_\_\*\***  
**文件版本**：v1.0  
**最後更新**：2024-12-17
